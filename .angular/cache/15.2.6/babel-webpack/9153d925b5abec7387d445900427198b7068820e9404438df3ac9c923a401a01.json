{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/platform-browser\";\nfunction UserSubmitComponent_div_10_ngx_dropzone_image_preview_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ngx-dropzone-image-preview\", 18);\n    i0.ɵɵlistener(\"removed\", function UserSubmitComponent_div_10_ngx_dropzone_image_preview_1_Template_ngx_dropzone_image_preview_removed_0_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const f_r2 = i0.ɵɵnextContext().$implicit;\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.onRemove(f_r2, 0));\n    });\n    i0.ɵɵelementStart(1, \"ngx-dropzone-label\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const f_r2 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵproperty(\"file\", f_r2)(\"removable\", true);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\"\", f_r2.name, \" (\", f_r2.type, \")\");\n  }\n}\nfunction UserSubmitComponent_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, UserSubmitComponent_div_10_ngx_dropzone_image_preview_1_Template, 3, 4, \"ngx-dropzone-image-preview\", 17);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const f_r2 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", f_r2 == ctx_r1.showPrev[0]);\n  }\n}\nexport class UserSubmitComponent {\n  constructor(http, sanitizer) {\n    this.http = http;\n    this.sanitizer = sanitizer;\n    this.title = \"\";\n    //form user submit\n    this.data = {\n      userIcon: \"\",\n      name: \"\",\n      brandManager: \"\",\n      comment: \"\",\n      status: true\n    };\n    this.files = [];\n    this.showPrev = [];\n  }\n  onSelect(event, id) {\n    const file = event.addedFiles[0];\n    const reader = new FileReader();\n    reader.readAsDataURL(file);\n    reader.onload = () => {\n      const base64String = reader.result;\n      this.files.splice(id, 1, base64String);\n    };\n    this.showPrev.splice(id, 1, ...event.addedFiles);\n  }\n  onRemove(event, id) {\n    this.files.splice(id, 1, null);\n    this.showPrev.splice(id, 1, null);\n    console.log(this.showPrev);\n  }\n  updateForm() {\n    if (this.data.name.length > 0 && this.data.comment.length > 0 && this.data.brandManager.length > 0 && this.files[0] != null) {\n      this.data.userIcon = this.files[0];\n      console.log(this.data);\n      this.http.post('http://localhost:5000/CreateComment', this.data).subscribe(response => {\n        console.log('Form updated successfully:', response);\n      });\n      window.location.reload();\n    } else {\n      alert(\"input something\");\n    }\n  }\n}\nUserSubmitComponent.ɵfac = function UserSubmitComponent_Factory(t) {\n  return new (t || UserSubmitComponent)(i0.ɵɵdirectiveInject(i1.HttpClient), i0.ɵɵdirectiveInject(i2.DomSanitizer));\n};\nUserSubmitComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: UserSubmitComponent,\n  selectors: [[\"app-user-submit\"]],\n  decls: 21,\n  vars: 6,\n  consts: [[\"id\", \"Contact\", 1, \"flex\", \"w-full\", \"py-6\", \"justify-center\", \"lg:h-[159px]\"], [1, \"flex\", \"justify-center\", \"content-center\", \"w-full\", \"max-lg:flex-col\", \"max-lg:px-[16px]\", 3, \"ngSubmit\"], [\"myForm\", \"ngForm\"], [1, \"w-1/4\", \"justify-end\", \"flex\", \"px-1\", \"max-lg:w-full\", \"max-lg:justify-center\", \"max-lg:pb-3\"], [\"ngx-dropzone\", \"\", 1, \"flex\", \"flex-col\", \"justify-center\", \"text-center\", \"w-[251px]\", \"h-[112px!important]\", \"items-center\", \"border-dashed\", \"border-2\", \"border-grey-2\", \"rounded-lg\", 3, \"accept\", \"multiple\", \"change\"], [1, \"fa-solid\", \"fa-arrow-up-from-bracket\", \"fa-xl\", 2, \"color\", \"#a61f23\"], [1, \"mt-5\", \"max-m\\u0E01:text-sm\", \"text-black\"], [4, \"ngFor\", \"ngForOf\"], [1, \"flex\", \"flex-col\", \"h-full\", \"w-1/4\", \"pl-[18px]\", \"text-[16px]\", \"pr-[12px]\", \"lg:space-y-[4px]\", \"max-lg:w-full\", \"max-lg:justify-center\", \"max-lg:px-0\"], [1, \"max-lg:h-[50px]\", \"max-lg:mt-[8px]\"], [\"type\", \"text\", \"name\", \"title\", \"placeholder\", \"Name\", 1, \"w-full\", \"rounded-lg\", \"h-[52px]\", \"bg-white-2\", \"pl-3\", 3, \"ngModel\", \"ngModelChange\"], [1, \"lg:py-1\", \"max-lg:h-[50px]\", \"max-lg:mt-[8px]\"], [\"type\", \"text\", \"name\", \"brandManager\", \"placeholder\", \"brand manager\", 1, \"w-full\", \"rounded-lg\", \"h-[52px]\", \"bg-white-2\", \"pl-3\", 3, \"ngModel\", \"ngModelChange\"], [1, \"flex\", \"flex-col\", \"w-1/4\", \"text-[16px]\", \"max-lg:w-full\", \"max-lg:mt-[8px]\"], [\"type\", \"text\", \"placeholder\", \"comment\", \"name\", \"comment\", \"required\", \"\", 1, \"w-full\", \"rounded-lg\", \"h-[112px]\", \"bg-white-2\", \"pl-3\", 3, \"ngModel\", \"ngModelChange\"], [1, \"flex\", \"h-full\", \"text-[16px]\", \"justify-start\", \"items-end\", \"w-1/4\", \"py-1\", \"px-[18px]\", \"max-lg:w-full\", \"max-lg:justify-center\", \"max-lg:mt-[8px]\", \"max-lg:px-0\", \"max-lg:py-0\"], [1, \"bg-blue-1\", \"rounded-lg\", \"text-white\", \"w-[157px]\", \"h-[52px]\", \"max-lg:w-full\"], [\"ngProjectAs\", \"ngx-dropzone-preview\", 5, [\"ngx-dropzone-preview\"], 3, \"file\", \"removable\", \"removed\", 4, \"ngIf\"], [\"ngProjectAs\", \"ngx-dropzone-preview\", 5, [\"ngx-dropzone-preview\"], 3, \"file\", \"removable\", \"removed\"]],\n  template: function UserSubmitComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"form\", 1, 2);\n      i0.ɵɵlistener(\"ngSubmit\", function UserSubmitComponent_Template_form_ngSubmit_1_listener() {\n        return ctx.updateForm();\n      });\n      i0.ɵɵelementStart(3, \"div\", 3)(4, \"ngx-dropzone\", 4);\n      i0.ɵɵlistener(\"change\", function UserSubmitComponent_Template_ngx_dropzone_change_4_listener($event) {\n        return ctx.onSelect($event, 0);\n      });\n      i0.ɵɵelementStart(5, \"ngx-dropzone-label\")(6, \"div\");\n      i0.ɵɵelement(7, \"i\", 5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"div\", 6);\n      i0.ɵɵtext(9, \" Drag & Drop \");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(10, UserSubmitComponent_div_10_Template, 2, 1, \"div\", 7);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(11, \"div\", 8)(12, \"div\", 9)(13, \"input\", 10);\n      i0.ɵɵlistener(\"ngModelChange\", function UserSubmitComponent_Template_input_ngModelChange_13_listener($event) {\n        return ctx.data.name = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(14, \"div\", 11)(15, \"input\", 12);\n      i0.ɵɵlistener(\"ngModelChange\", function UserSubmitComponent_Template_input_ngModelChange_15_listener($event) {\n        return ctx.data.brandManager = $event;\n      });\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(16, \"div\", 13)(17, \"input\", 14);\n      i0.ɵɵlistener(\"ngModelChange\", function UserSubmitComponent_Template_input_ngModelChange_17_listener($event) {\n        return ctx.data.comment = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(18, \"div\", 15)(19, \"button\", 16);\n      i0.ɵɵtext(20, \"submit\");\n      i0.ɵɵelementEnd()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"accept\", \"image/*\")(\"multiple\", false);\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngForOf\", ctx.showPrev);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngModel\", ctx.data.name);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngModel\", ctx.data.brandManager);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngModel\", ctx.data.comment);\n    }\n  },\n  styles: [\"[_nghost-ttw-c9][_ngcontent-%COMP%]{\\r\\n    height: 112px!important;\\r\\n    width: 251px!important;\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvaG9tZV9wYWdlL3VzZXItc3VibWl0L3VzZXItc3VibWl0LmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSx1QkFBdUI7SUFDdkIsc0JBQXNCO0FBQzFCIiwic291cmNlc0NvbnRlbnQiOlsiW19uZ2hvc3QtdHR3LWM5XXtcclxuICAgIGhlaWdodDogMTEycHghaW1wb3J0YW50O1xyXG4gICAgd2lkdGg6IDI1MXB4IWltcG9ydGFudDtcclxufSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","UserSubmitComponent","constructor","http","sanitizer","userIcon","name","brandManager","comment","status","onSelect","event","id","file","addedFiles","reader","FileReader","readAsDataURL","onload","base64String","result","files","splice","showPrev","onRemove","console","log","updateForm","data","length","post","subscribe","response","window","location","reload","alert","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\sarif\\Desktop\\guardian\\src\\app\\home_page\\user-submit\\user-submit.component.html","C:\\Users\\sarif\\Desktop\\guardian\\src\\app\\home_page\\user-submit\\user-submit.component.ts"],"sourcesContent":["<div class=\" flex w-full py-6 justify-center lg:h-[159px] \" id=\"Contact\">\r\n  <form #myForm=\"ngForm\" (ngSubmit)=\"updateForm()\" class=\"flex justify-center content-center w-full max-lg:flex-col max-lg:px-[16px]\">\r\n    <!-- Drag and drop -->\r\n    <div class=\"w-1/4  justify-end flex px-1 max-lg:w-full max-lg:justify-center max-lg:pb-3 \">\r\n      <ngx-dropzone class=\"flex flex-col justify-center text-center w-[251px] h-[112px!important] items-center border-dashed border-2 border-grey-2 rounded-lg\" ngx-dropzone [accept]=\"'image/*'\" (change)=\"onSelect($event,0)\" [multiple]=\"false\">\r\n        <ngx-dropzone-label>\r\n        <div>\r\n          <i class=\"fa-solid fa-arrow-up-from-bracket fa-xl\" style=\"color: #a61f23;\"></i>\r\n        </div>\r\n        <div class=\"mt-5 max-mก:text-sm text-black\">\r\n          Drag & Drop\r\n        </div>\r\n      </ngx-dropzone-label>\r\n      <div *ngFor=\"let f of showPrev\">\r\n        <ngx-dropzone-image-preview ngProjectAs=\"ngx-dropzone-preview\" [file]=\"f\" [removable]=\"true\" (removed)=\"onRemove(f,0)\" *ngIf=\"f == showPrev[0]\">\r\n          <ngx-dropzone-label >{{ f.name }} ({{ f.type }})</ngx-dropzone-label>\r\n        </ngx-dropzone-image-preview>\r\n      </div>\r\n      </ngx-dropzone>\r\n    </div>\r\n      <div class=\"flex flex-col h-full w-1/4 pl-[18px] text-[16px] pr-[12px] lg:space-y-[4px] max-lg:w-full max-lg:justify-center max-lg:px-0 \">\r\n        <div class=\" max-lg:h-[50px] max-lg:mt-[8px]\">\r\n          <input type=\"text\" name=\"title\" placeholder=\"Name\" class=\"w-full rounded-lg h-[52px] bg-white-2 pl-3\" [(ngModel)]=\"data.name\">\r\n        </div>\r\n        <div class=\" lg:py-1 max-lg:h-[50px] max-lg:mt-[8px] \">\r\n          <input type=\"text\" name=\"brandManager\" placeholder=\"brand manager\" class=\"w-full rounded-lg h-[52px] bg-white-2 pl-3\" [(ngModel)]=\"data.brandManager\">\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"flex flex-col  w-1/4  text-[16px] max-lg:w-full max-lg:mt-[8px] \">\r\n        <input type=\"text\" placeholder=\"comment\" name=\"comment\" class=\"w-full rounded-lg h-[112px] bg-white-2 pl-3\" required [(ngModel)]=\"data.comment\">\r\n      </div>\r\n\r\n      <div class=\"flex h-full text-[16px] justify-start items-end w-1/4 py-1 px-[18px] max-lg:w-full max-lg:justify-center max-lg:mt-[8px] max-lg:px-0 max-lg:py-0 \">\r\n        <button class=\"bg-blue-1 rounded-lg text-white  w-[157px] h-[52px] max-lg:w-full\">submit</button>\r\n      </div>\r\n\r\n  </form>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { DomSanitizer } from '@angular/platform-browser';\r\n\r\n@Component({\r\n  selector: 'app-user-submit',\r\n  templateUrl: './user-submit.component.html',\r\n  styleUrls: ['./user-submit.component.css']\r\n})\r\nexport class UserSubmitComponent {\r\n  \r\n  constructor(private http: HttpClient, private sanitizer: DomSanitizer) { }\r\n  title:string = \"\";\r\n  //form user submit\r\n  data: any = {\r\n    userIcon: \"\",\r\n    name: \"\",\r\n    brandManager: \"\",\r\n    comment: \"\",\r\n    status: true,\r\n  };\r\n\r\n  \r\n\r\n  files: any[] = [];\r\n  showPrev: any[] = [];\r\n\r\n\r\n  onSelect(event: any,id:any) {\r\n    const file = event.addedFiles[0];\r\n    const reader = new FileReader();\r\n    reader.readAsDataURL(file);\r\n    reader.onload = () => {\r\n      const base64String = reader.result as string;\r\n      this.files.splice(id,1,base64String);\r\n    };\r\n\r\n    this.showPrev.splice(id,1,...event.addedFiles);\r\n  }\r\n\r\n  onRemove(event:any,id:any) {\r\n\t\tthis.files.splice(id, 1,null);\r\n    this.showPrev.splice(id, 1,null);\r\n    console.log(this.showPrev)\r\n\t}\r\n\r\n\r\n\r\n  updateForm() {\r\n    if(this.data.name.length > 0 && this.data.comment.length > 0 && this.data.brandManager.length > 0 &&  this.files[0] != null)\r\n    {\r\n      this.data.userIcon = this.files[0];\r\n      console.log(this.data)\r\n      this.http.post('http://localhost:5000/CreateComment',this.data )\r\n        .subscribe((response) => {\r\n          console.log('Form updated successfully:', response);\r\n      });\r\n      window.location.reload();\r\n    }\r\n    else\r\n    {\r\n      alert(\"input something\")\r\n    }\r\n\r\n  }\r\n\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}